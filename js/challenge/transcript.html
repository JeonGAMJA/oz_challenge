<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>떡잎 유치원 멀리뛰기 결과</h1>
    <table id="table"></table>
    <h1>
      75점이 넘는 사람:
      <h1 id="outstanding-students"></h1>
    </h1>
  </body>
  <script>
    let studentsInfo = {}

    function getStudentsInfo() {
      const students = ['짱구', '맹구', '철수', '훈이', '유리', '수지']

      students.map(function (student) {
        studentsInfo[student] = Math.floor(Math.random() * 100)
      })
    }

    function getOutstandingStudents() {
      const outstandingStudents = document.getElementById('outstanding-students')
      let outstandingStudentsList = []

      for (let student in studentsInfo) {
        if (studentsInfo[student] >= 75) {
          outstandingStudentsList.push({ name: student, score: studentsInfo[student] })
        }
      }

      outstandingStudentsList.sort((a, b) => b.score - a.score)

      outstandingStudents.textContent = outstandingStudentsList
        .map((student) => `${student.name}`)
        .join(', ')
    }

    function printStudentsInfo() {
      getStudentsInfo()
      const table = document.getElementById('table')

      for (let student in studentsInfo) {
        let tbody = document.createElement('tr')
        let headerCell = document.createElement('th')
        let dataRow = document.createElement('td')
        headerCell.textContent = student
        dataRow.textContent = studentsInfo[student]
        tbody.appendChild(headerCell)
        tbody.appendChild(dataRow)
        table.appendChild(tbody)
      }
      console.log(studentsInfo)
      return studentsInfo
    }

    printStudentsInfo()
    getOutstandingStudents()

    //       - 기본 : 75점이 넘는 사람만 추출해서 화면에 나타내기(무작위)
    // - 심화 : 추출한 사람 중에서 점수가 높은 순으로 나열하기
  </script>
</html>
